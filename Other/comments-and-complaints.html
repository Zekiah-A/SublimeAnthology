<!DOCTYPE html>
<html>
<head>
    <title>Subliminal</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../styles.css">
    <script type="text/javascript">
    //You can use the new fetch() standard along with await
    (async function(){
        //code here
        var res = await fetch("http://localhost:8000")

        var textContent = await res.text();
        document.getElementById("comments").innerHTML = textContent;
        console.log(textContent);
    })()

    async function getHttp(){
        var name = document.getElementById("name").value;
        var email = document.getElementById("email").value;
        var message = document.getElementById("input-contents").value;
            
        //post
        let res = await fetch("http://localhost:8000", {method: 'POST'});

        //TODO: Send the data as json to the server, to be made into HTML
    }
    </script>
</head>
 
<body>
    <div class="title-blur">
        <h2 class="centre content">Comments and Complaints</h2>
        <hr>
    </div>
    <div class="div-centre">
        <p>Here you post anything from coping rants due to not being cool enough for the anthology, to discussing the poems on the anthology and collaborating on new poem ideas. Regardless of that you put here, as long as it's not illegal, it's cool!</p>
        <em>Name(optional):</em>
        <input type="text" id="name"> <br>
        <em>Email(optional):</em>
        <input type="text" id="email"> <br>
        <textarea rows="5" cols="50" style="margin-top: 5px;" id="input-contents"></textarea> <br>
        <button onclick="getHttp()">Post</button>

        <div id="comments">
            <div class="comment">
                <em>Subliminal Dev Team said:</em>
                <p>If you can see this, then comments are currently down.</p>
            </div>
        </div>
    </div>
    <a href="../contents.html" class="back"> <- Back</a>
</body>
 
</html> 
